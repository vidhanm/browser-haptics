<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Haptic Video Player</title>
    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }

        body {
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            min-height: 100vh;
            font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, sans-serif;
            display: flex;
            align-items: center;
            justify-content: center;
            padding: 20px;
        }

        .container {
            background: rgba(255, 255, 255, 0.1);
            backdrop-filter: blur(20px);
            border-radius: 20px;
            padding: 30px;
            box-shadow: 0 20px 40px rgba(0, 0, 0, 0.1);
            border: 1px solid rgba(255, 255, 255, 0.2);
            max-width: 600px;
            width: 100%;
        }

        h1 {
            color: white;
            text-align: center;
            margin-bottom: 30px;
            font-size: 2.5em;
            font-weight: 700;
            text-shadow: 0 4px 8px rgba(0, 0, 0, 0.3);
        }

        .video-container {
            position: relative;
            background: #000;
            border-radius: 15px;
            overflow: hidden;
            margin-bottom: 25px;
            box-shadow: 0 15px 30px rgba(0, 0, 0, 0.3);
        }

        video {
            width: 100%;
            height: auto;
            display: block;
        }

        .controls {
            display: flex;
            gap: 15px;
            margin-bottom: 25px;
            flex-wrap: wrap;
        }

        .btn {
            background: linear-gradient(45deg, #ff6b6b, #ee5a52);
            color: white;
            border: none;
            padding: 12px 24px;
            border-radius: 25px;
            cursor: pointer;
            font-weight: 600;
            transition: all 0.3s ease;
            box-shadow: 0 4px 15px rgba(238, 90, 82, 0.3);
            flex: 1;
            min-width: 120px;
        }

        .btn:hover {
            transform: translateY(-2px);
            box-shadow: 0 6px 20px rgba(238, 90, 82, 0.4);
        }

        .btn:active {
            transform: translateY(0);
        }

        .btn.secondary {
            background: linear-gradient(45deg, #4ecdc4, #44a08d);
            box-shadow: 0 4px 15px rgba(68, 160, 141, 0.3);
        }

        .btn.secondary:hover {
            box-shadow: 0 6px 20px rgba(68, 160, 141, 0.4);
        }

        .status {
            background: rgba(255, 255, 255, 0.1);
            padding: 15px;
            border-radius: 10px;
            margin-bottom: 20px;
            border: 1px solid rgba(255, 255, 255, 0.2);
        }

        .status-item {
            color: white;
            margin: 5px 0;
            display: flex;
            justify-content: space-between;
            align-items: center;
        }

        .status-value {
            font-weight: 600;
            color: #4ecdc4;
        }

        .haptic-timeline {
            background: rgba(0, 0, 0, 0.3);
            padding: 15px;
            border-radius: 10px;
            margin-bottom: 20px;
            max-height: 150px;
            overflow-y: auto;
        }

        .haptic-timeline h3 {
            color: white;
            margin-bottom: 10px;
            font-size: 1.2em;
        }

        .haptic-event {
            background: rgba(255, 255, 255, 0.1);
            padding: 8px 12px;
            margin: 5px 0;
            border-radius: 5px;
            color: white;
            font-size: 0.9em;
        }

        .intensity-control {
            margin: 20px 0;
        }

        .intensity-control label {
            color: white;
            display: block;
            margin-bottom: 10px;
            font-weight: 600;
        }

        .slider {
            width: 100%;
            height: 6px;
            border-radius: 3px;
            background: rgba(255, 255, 255, 0.2);
            outline: none;
            -webkit-appearance: none;
            appearance: none;
        }

        .slider::-webkit-slider-thumb {
            -webkit-appearance: none;
            appearance: none;
            width: 20px;
            height: 20px;
            border-radius: 50%;
            background: #4ecdc4;
            cursor: pointer;
            box-shadow: 0 2px 10px rgba(0, 0, 0, 0.3);
        }

        .slider::-moz-range-thumb {
            width: 20px;
            height: 20px;
            border-radius: 50%;
            background: #4ecdc4;
            cursor: pointer;
            border: none;
        }

        .warning {
            background: rgba(255, 193, 7, 0.2);
            border: 1px solid rgba(255, 193, 7, 0.5);
            color: #fff3cd;
            padding: 12px;
            border-radius: 8px;
            margin-bottom: 20px;
            font-size: 0.9em;
        }

        @media (max-width: 480px) {
            .container {
                padding: 20px;
            }
            
            h1 {
                font-size: 2em;
            }
            
            .controls {
                flex-direction: column;
            }
            
            .btn {
                min-width: auto;
            }
        }
    </style>
</head>
<body>
    <div class="container">
        <h1>üé¨ Haptic Video Player</h1>
        
        <div class="warning">
            üì± For best experience, use this on a mobile device with vibration support. Desktop browsers have limited haptic feedback capabilities.
        </div>

        <div class="video-container">
            <video id="hapticVideo" controls preload="metadata">
                <source src="./f1-video.mp4" type="video/mp4">
                <source src="https://commondatastorage.googleapis.com/gtv-videos-bucket/sample/BigBuckBunny.mp4" type="video/mp4">
                <p>Your browser doesn't support HTML5 video. Here is a <a href="https://commondatastorage.googleapis.com/gtv-videos-bucket/sample/BigBuckBunny.mp4">link to the video</a> instead.</p>
            </video>
        </div>

        <div class="controls">
            <button class="btn" id="playBtn">‚ñ∂Ô∏è Play with Haptics</button>
            <button class="btn secondary" id="testBtn">üîÑ Test Vibration</button>
        </div>

        <div class="intensity-control">
            <label for="intensitySlider">Haptic Intensity: <span id="intensityValue">100%</span></label>
            <input type="range" id="intensitySlider" class="slider" min="0" max="100" value="100">
        </div>

        <div class="status">
            <div class="status-item">
                <span>Vibration Support:</span>
                <span class="status-value" id="vibrationSupport">Checking...</span>
            </div>
            <div class="status-item">
                <span>Current Time:</span>
                <span class="status-value" id="currentTime">0:00</span>
            </div>
            <div class="status-item">
                <span>Haptic Events:</span>
                <span class="status-value" id="hapticCount">0 events loaded</span>
            </div>
        </div>

        <div class="haptic-timeline" id="hapticTimelineContainer">
            <h3>üèéÔ∏è F1 Haptic Timeline</h3>
            <!-- Timeline events will be populated by JavaScript -->
        </div>
    </div>

    <script>
        class HapticVideoPlayer {
            constructor() {
                this.video = document.getElementById('hapticVideo');
                this.playBtn = document.getElementById('playBtn');
                this.testBtn = document.getElementById('testBtn');
                this.intensitySlider = document.getElementById('intensitySlider');
                this.intensityValue = document.getElementById('intensityValue');
                this.currentTimeDisplay = document.getElementById('currentTime');
                this.hapticCountDisplay = document.getElementById('hapticCount');
                this.timelineContainer = document.getElementById('hapticTimelineContainer');
                
                this.hapticEnabled = false;
                this.intensity = 1.0;
                this.lastHapticTime = -1; // Use -1 to ensure the first event triggers
                this.backgroundHapticInterval = null; // Manages the looping RPM vibration

                // Define different patterns for background RPM feel
                this.rpmPatterns = {
                    low: [10, 120],      // A light, infrequent pulse for low speeds/revs
                    high: [30, 60],     // A faster, more intense buzz for high speeds/straights
                    cornering: [40, 80] // A slightly rougher feel for G-force in corners
                };

                this.hapticEvents = [
    {
        "time": 0.0,
        "pattern": [
            40
        ],
        "description": "Base vibration (RPM+energy)"
    },
    {
        "time": 0.25,
        "pattern": [
            257,
            38,
            322
        ],
        "description": "Base vibration (RPM+energy)"
    },
    {
        "time": 0.5,
        "pattern": [
            312,
            46,
            391
        ],
        "description": "Base vibration (RPM+energy)"
    },
    {
        "time": 0.75,
        "pattern": [
            332,
            49,
            415
        ],
        "description": "Base vibration (RPM+energy)"
    },
    {
        "time": 1.0,
        "pattern": [
            347,
            52,
            434
        ],
        "description": "Base vibration (RPM+energy)"
    },
    {
        "time": 1.25,
        "pattern": [
            349,
            52,
            437
        ],
        "description": "Base vibration (RPM+energy)"
    },
    {
        "time": 1.5,
        "pattern": [
            343,
            51,
            429
        ],
        "description": "Base vibration (RPM+energy)"
    },
    {
        "time": 1.75,
        "pattern": [
            348,
            52,
            436
        ],
        "description": "Base vibration (RPM+energy)"
    },
    {
        "time": 2.0,
        "pattern": [
            312,
            46,
            390
        ],
        "description": "Base vibration (RPM+energy)"
    },
    {
        "time": 2.25,
        "pattern": [
            336,
            50,
            420
        ],
        "description": "Base vibration (RPM+energy)"
    },
    {
        "time": 2.5,
        "pattern": [
            343,
            51,
            429
        ],
        "description": "Base vibration (RPM+energy)"
    },
    {
        "time": 2.75,
        "pattern": [
            352,
            52,
            441
        ],
        "description": "Base vibration (RPM+energy)"
    },
    {
        "time": 3.0,
        "pattern": [
            343,
            51,
            429
        ],
        "description": "Base vibration (RPM+energy)"
    },
    {
        "time": 3.25,
        "pattern": [
            345,
            51,
            432
        ],
        "description": "Base vibration (RPM+energy)"
    },
    {
        "time": 3.5,
        "pattern": [
            349,
            52,
            437
        ],
        "description": "Base vibration (RPM+energy)"
    },
    {
        "time": 3.75,
        "pattern": [
            351,
            52,
            439
        ],
        "description": "Base vibration (RPM+energy)"
    },
    {
        "time": 4.0,
        "pattern": [
            342,
            51,
            428
        ],
        "description": "Base vibration (RPM+energy)"
    },
    {
        "time": 4.25,
        "pattern": [
            348,
            52,
            435
        ],
        "description": "Base vibration (RPM+energy)"
    },
    {
        "time": 4.5,
        "pattern": [
            345,
            51,
            432
        ],
        "description": "Base vibration (RPM+energy)"
    },
    {
        "time": 4.75,
        "pattern": [
            322,
            48,
            403
        ],
        "description": "Base vibration (RPM+energy)"
    },
    {
        "time": 5.0,
        "pattern": [
            350,
            52,
            438
        ],
        "description": "Base vibration (RPM+energy)"
    },
    {
        "time": 5.25,
        "pattern": [
            352,
            52,
            441
        ],
        "description": "Base vibration (RPM+energy)"
    },
    {
        "time": 5.5,
        "pattern": [
            338,
            50,
            423
        ],
        "description": "Base vibration (RPM+energy)"
    },
    {
        "time": 5.75,
        "pattern": [
            345,
            51,
            432
        ],
        "description": "Base vibration (RPM+energy)"
    },
    {
        "time": 6.0,
        "pattern": [
            341,
            51,
            427
        ],
        "description": "Base vibration (RPM+energy)"
    },
    {
        "time": 6.25,
        "pattern": [
            339,
            50,
            424
        ],
        "description": "Base vibration (RPM+energy)"
    },
    {
        "time": 6.5,
        "pattern": [
            348,
            52,
            435
        ],
        "description": "Base vibration (RPM+energy)"
    },
    {
        "time": 7.0,
        "pattern": [
            342,
            51,
            428
        ],
        "description": "Base vibration (RPM+energy)"
    },
    {
        "time": 7.25,
        "pattern": [
            349,
            52,
            437
        ],
        "description": "Base vibration (RPM+energy)"
    },
    {
        "time": 7.5,
        "pattern": [
            345,
            51,
            432
        ],
        "description": "Base vibration (RPM+energy)"
    },
    {
        "time": 7.75,
        "pattern": [
            336,
            50,
            421
        ],
        "description": "Base vibration (RPM+energy)"
    },
    {
        "time": 8.0,
        "pattern": [
            349,
            52,
            437
        ],
        "description": "Base vibration (RPM+energy)"
    },
    {
        "time": 8.25,
        "pattern": [
            351,
            52,
            439
        ],
        "description": "Base vibration (RPM+energy)"
    },
    {
        "time": 8.5,
        "pattern": [
            350,
            52,
            438
        ],
        "description": "Base vibration (RPM+energy)"
    },
    {
        "time": 8.75,
        "pattern": [
            352,
            52,
            441
        ],
        "description": "Base vibration (RPM+energy)"
    },
    {
        "time": 9.0,
        "pattern": [
            348,
            52,
            435
        ],
        "description": "Base vibration (RPM+energy)"
    },
    {
        "time": 9.25,
        "pattern": [
            347,
            52,
            434
        ],
        "description": "Base vibration (RPM+energy)"
    },
    {
        "time": 9.5,
        "pattern": [
            340,
            51,
            425
        ],
        "description": "Base vibration (RPM+energy)"
    },
    {
        "time": 9.75,
        "pattern": [
            347,
            52,
            434
        ],
        "description": "Base vibration (RPM+energy)"
    },
    {
        "time": 10.0,
        "pattern": [
            350,
            52,
            438
        ],
        "description": "Base vibration (RPM+energy)"
    },
    {
        "time": 10.25,
        "pattern": [
            355,
            53,
            444
        ],
        "description": "Base vibration (RPM+energy)"
    },
    {
        "time": 10.5,
        "pattern": [
            352,
            52,
            441
        ],
        "description": "Base vibration (RPM+energy)"
    },
    {
        "time": 10.75,
        "pattern": [
            354,
            53,
            443
        ],
        "description": "Base vibration (RPM+energy)"
    },
    {
        "time": 11.0,
        "pattern": [
            338,
            50,
            423
        ],
        "description": "Base vibration (RPM+energy)"
    },
    {
        "time": 11.25,
        "pattern": [
            341,
            51,
            427
        ],
        "description": "Base vibration (RPM+energy)"
    },
    {
        "time": 11.5,
        "pattern": [
            343,
            51,
            429
        ],
        "description": "Base vibration (RPM+energy)"
    },
    {
        "time": 11.75,
        "pattern": [
            348,
            52,
            436
        ],
        "description": "Base vibration (RPM+energy)"
    },
    {
        "time": 12.0,
        "pattern": [
            346,
            51,
            433
        ],
        "description": "Base vibration (RPM+energy)"
    },
    {
        "time": 12.25,
        "pattern": [
            341,
            51,
            427
        ],
        "description": "Base vibration (RPM+energy)"
    },
    {
        "time": 12.5,
        "pattern": [
            336,
            50,
            421
        ],
        "description": "Base vibration (RPM+energy)"
    },
    {
        "time": 12.75,
        "pattern": [
            338,
            50,
            423
        ],
        "description": "Base vibration (RPM+energy)"
    },
    {
        "time": 13.0,
        "pattern": [
            332,
            49,
            416
        ],
        "description": "Base vibration (RPM+energy)"
    },
    {
        "time": 13.25,
        "pattern": [
            340,
            51,
            425
        ],
        "description": "Base vibration (RPM+energy)"
    },
    {
        "time": 13.5,
        "pattern": [
            335,
            50,
            419
        ],
        "description": "Base vibration (RPM+energy)"
    },
    {
        "time": 13.75,
        "pattern": [
            333,
            49,
            417
        ],
        "description": "Base vibration (RPM+energy)"
    },
    {
        "time": 14.0,
        "pattern": [
            341,
            51,
            427
        ],
        "description": "Base vibration (RPM+energy)"
    },
    {
        "time": 14.25,
        "pattern": [
            338,
            50,
            423
        ],
        "description": "Base vibration (RPM+energy)"
    },
    {
        "time": 14.5,
        "pattern": [
            328,
            49,
            411
        ],
        "description": "Base vibration (RPM+energy)"
    },
    {
        "time": 14.75,
        "pattern": [
            329,
            49,
            412
        ],
        "description": "Base vibration (RPM+energy)"
    },
    {
        "time": 15.0,
        "pattern": [
            332,
            49,
            415
        ],
        "description": "Base vibration (RPM+energy)"
    },
    {
        "time": 15.25,
        "pattern": [
            348,
            52,
            436
        ],
        "description": "Base vibration (RPM+energy)"
    },
    {
        "time": 15.5,
        "pattern": [
            342,
            51,
            428
        ],
        "description": "Base vibration (RPM+energy)"
    },
    {
        "time": 15.75,
        "pattern": [
            308,
            46,
            385
        ],
        "description": "Base vibration (RPM+energy)"
    },
    {
        "time": 16.0,
        "pattern": [
            300,
            45,
            375
        ],
        "description": "Base vibration (RPM+energy)"
    },
    {
        "time": 16.25,
        "pattern": [
            272,
            40,
            341
        ],
        "description": "Base vibration (RPM+energy)"
    },
    {
        "time": 16.5,
        "pattern": [
            268,
            40,
            336
        ],
        "description": "Base vibration (RPM+energy)"
    },
    {
        "time": 16.75,
        "pattern": [
            276,
            41,
            345
        ],
        "description": "Base vibration (RPM+energy)"
    },
    {
        "time": 17.0,
        "pattern": [
            281,
            42,
            352
        ],
        "description": "Base vibration (RPM+energy)"
    },
    {
        "time": 17.25,
        "pattern": [
            264,
            39,
            331
        ],
        "description": "Base vibration (RPM+energy)"
    },
    {
        "time": 17.5,
        "pattern": [
            308,
            46,
            386
        ],
        "description": "Base vibration (RPM+energy)"
    },
    {
        "time": 17.75,
        "pattern": [
            265,
            39,
            332
        ],
        "description": "Base vibration (RPM+energy)"
    },
    {
        "time": 18.0,
        "pattern": [
            264,
            39,
            331
        ],
        "description": "Base vibration (RPM+energy)"
    },
    {
        "time": 18.5,
        "pattern": [
            274,
            41,
            343
        ],
        "description": "Base vibration (RPM+energy)"
    },
    {
        "time": 18.75,
        "pattern": [
            262,
            39,
            328
        ],
        "description": "Base vibration (RPM+energy)"
    },
    {
        "time": 19.0,
        "pattern": [
            284,
            42,
            355
        ],
        "description": "Base vibration (RPM+energy)"
    },
    {
        "time": 19.25,
        "pattern": [
            294,
            44,
            368
        ],
        "description": "Base vibration (RPM+energy)"
    },
    {
        "time": 19.5,
        "pattern": [
            261,
            39,
            327
        ],
        "description": "Base vibration (RPM+energy)"
    },
    {
        "time": 19.75,
        "pattern": [
            280,
            42,
            351
        ],
        "description": "Base vibration (RPM+energy)"
    },
    {
        "time": 20.0,
        "pattern": [
            300,
            45,
            375
        ],
        "description": "Base vibration (RPM+energy)"
    },
    {
        "time": 20.25,
        "pattern": [
            314,
            47,
            393
        ],
        "description": "Base vibration (RPM+energy)"
    },
    {
        "time": 20.5,
        "pattern": [
            285,
            42,
            357
        ],
        "description": "Base vibration (RPM+energy)"
    },
    {
        "time": 20.75,
        "pattern": [
            292,
            43,
            366
        ],
        "description": "Base vibration (RPM+energy)"
    },
    {
        "time": 21.0,
        "pattern": [
            336,
            50,
            421
        ],
        "description": "Base vibration (RPM+energy)"
    },
    {
        "time": 21.25,
        "pattern": [
            307,
            46,
            384
        ],
        "description": "Base vibration (RPM+energy)"
    },
    {
        "time": 21.5,
        "pattern": [
            309,
            46,
            387
        ],
        "description": "Base vibration (RPM+energy)"
    },
    {
        "time": 21.75,
        "pattern": [
            312,
            46,
            391
        ],
        "description": "Base vibration (RPM+energy)"
    },
    {
        "time": 22.0,
        "pattern": [
            344,
            51,
            430
        ],
        "description": "Base vibration (RPM+energy)"
    },
    {
        "time": 22.25,
        "pattern": [
            315,
            47,
            394
        ],
        "description": "Base vibration (RPM+energy)"
    },
    {
        "time": 22.5,
        "pattern": [
            364,
            54,
            455
        ],
        "description": "Base vibration (RPM+energy)"
    },
    {
        "time": 22.75,
        "pattern": [
            344,
            51,
            431
        ],
        "description": "Base vibration (RPM+energy)"
    },
    {
        "time": 23.0,
        "pattern": [
            356,
            53,
            445
        ],
        "description": "Base vibration (RPM+energy)"
    },
    {
        "time": 23.25,
        "pattern": [
            352,
            52,
            441
        ],
        "description": "Base vibration (RPM+energy)"
    },
    {
        "time": 23.5,
        "pattern": [
            338,
            50,
            423
        ],
        "description": "Base vibration (RPM+energy)"
    },
    {
        "time": 23.75,
        "pattern": [
            352,
            52,
            440
        ],
        "description": "Base vibration (RPM+energy)"
    },
    {
        "time": 24.0,
        "pattern": [
            344,
            51,
            430
        ],
        "description": "Base vibration (RPM+energy)"
    },
    {
        "time": 24.25,
        "pattern": [
            320,
            48,
            401
        ],
        "description": "Base vibration (RPM+energy)"
    },
    {
        "time": 24.5,
        "pattern": [
            336,
            50,
            420
        ],
        "description": "Base vibration (RPM+energy)"
    },
    {
        "time": 24.75,
        "pattern": [
            341,
            51,
            427
        ],
        "description": "Base vibration (RPM+energy)"
    },
    {
        "time": 25.0,
        "pattern": [
            345,
            51,
            432
        ],
        "description": "Base vibration (RPM+energy)"
    },
    {
        "time": 25.25,
        "pattern": [
            351,
            52,
            439
        ],
        "description": "Base vibration (RPM+energy)"
    },
    {
        "time": 25.5,
        "pattern": [
            348,
            52,
            435
        ],
        "description": "Base vibration (RPM+energy)"
    },
    {
        "time": 25.75,
        "pattern": [
            318,
            47,
            398
        ],
        "description": "Base vibration (RPM+energy)"
    },
    {
        "time": 26.0,
        "pattern": [
            339,
            50,
            424
        ],
        "description": "Base vibration (RPM+energy)"
    },
    {
        "time": 26.25,
        "pattern": [
            345,
            51,
            432
        ],
        "description": "Base vibration (RPM+energy)"
    },
    {
        "time": 26.5,
        "pattern": [
            339,
            50,
            424
        ],
        "description": "Base vibration (RPM+energy)"
    },
    {
        "time": 26.75,
        "pattern": [
            345,
            51,
            432
        ],
        "description": "Base vibration (RPM+energy)"
    },
    {
        "time": 27.0,
        "pattern": [
            340,
            51,
            426
        ],
        "description": "Base vibration (RPM+energy)"
    },
    {
        "time": 27.25,
        "pattern": [
            337,
            50,
            422
        ],
        "description": "Base vibration (RPM+energy)"
    },
    {
        "time": 27.5,
        "pattern": [
            347,
            52,
            434
        ],
        "description": "Base vibration (RPM+energy)"
    },
    {
        "time": 27.75,
        "pattern": [
            348,
            52,
            436
        ],
        "description": "Base vibration (RPM+energy)"
    },
    {
        "time": 28.0,
        "pattern": [
            336,
            50,
            421
        ],
        "description": "Base vibration (RPM+energy)"
    },
    {
        "time": 28.25,
        "pattern": [
            324,
            48,
            405
        ],
        "description": "Base vibration (RPM+energy)"
    },
    {
        "time": 28.5,
        "pattern": [
            346,
            51,
            433
        ],
        "description": "Base vibration (RPM+energy)"
    },
    {
        "time": 28.75,
        "pattern": [
            343,
            51,
            429
        ],
        "description": "Base vibration (RPM+energy)"
    },
    {
        "time": 29.0,
        "pattern": [
            339,
            50,
            424
        ],
        "description": "Base vibration (RPM+energy)"
    },
    {
        "time": 29.25,
        "pattern": [
            343,
            51,
            429
        ],
        "description": "Base vibration (RPM+energy)"
    },
    {
        "time": 29.5,
        "pattern": [
            336,
            50,
            420
        ],
        "description": "Base vibration (RPM+energy)"
    },
    {
        "time": 29.75,
        "pattern": [
            332,
            49,
            416
        ],
        "description": "Base vibration (RPM+energy)"
    },
    {
        "time": 30.0,
        "pattern": [
            342,
            51,
            428
        ],
        "description": "Base vibration (RPM+energy)"
    },
    {
        "time": 30.25,
        "pattern": [
            333,
            49,
            417
        ],
        "description": "Base vibration (RPM+energy)"
    },
    {
        "time": 30.5,
        "pattern": [
            337,
            50,
            422
        ],
        "description": "Base vibration (RPM+energy)"
    },
    {
        "time": 30.75,
        "pattern": [
            338,
            50,
            423
        ],
        "description": "Base vibration (RPM+energy)"
    },
    {
        "time": 31.0,
        "pattern": [
            336,
            50,
            421
        ],
        "description": "Base vibration (RPM+energy)"
    },
    {
        "time": 31.5,
        "pattern": [
            341,
            51,
            427
        ],
        "description": "Base vibration (RPM+energy)"
    },
    {
        "time": 31.75,
        "pattern": [
            336,
            50,
            420
        ],
        "description": "Base vibration (RPM+energy)"
    },
    {
        "time": 32.0,
        "pattern": [
            344,
            51,
            431
        ],
        "description": "Base vibration (RPM+energy)"
    },
    {
        "time": 32.25,
        "pattern": [
            340,
            51,
            426
        ],
        "description": "Base vibration (RPM+energy)"
    },
    {
        "time": 32.5,
        "pattern": [
            336,
            50,
            420
        ],
        "description": "Base vibration (RPM+energy)"
    },
    {
        "time": 32.75,
        "pattern": [
            326,
            48,
            408
        ],
        "description": "Base vibration (RPM+energy)"
    },
    {
        "time": 33.0,
        "pattern": [
            335,
            50,
            419
        ],
        "description": "Base vibration (RPM+energy)"
    },
    {
        "time": 33.25,
        "pattern": [
            341,
            51,
            427
        ],
        "description": "Base vibration (RPM+energy)"
    },
    {
        "time": 33.5,
        "pattern": [
            328,
            49,
            411
        ],
        "description": "Base vibration (RPM+energy)"
    },
    {
        "time": 33.75,
        "pattern": [
            326,
            48,
            408
        ],
        "description": "Base vibration (RPM+energy)"
    },
    {
        "time": 34.25,
        "pattern": [
            321,
            48,
            402
        ],
        "description": "Base vibration (RPM+energy)"
    },
    {
        "time": 34.5,
        "pattern": [
            315,
            47,
            394
        ],
        "description": "Base vibration (RPM+energy)"
    },
    {
        "time": 34.75,
        "pattern": [
            327,
            49,
            409
        ],
        "description": "Base vibration (RPM+energy)"
    },
    {
        "time": 35.0,
        "pattern": [
            310,
            46,
            388
        ],
        "description": "Base vibration (RPM+energy)"
    },
    {
        "time": 35.25,
        "pattern": [
            307,
            46,
            384
        ],
        "description": "Base vibration (RPM+energy)"
    },
    {
        "time": 35.5,
        "pattern": [
            280,
            42,
            350
        ],
        "description": "Base vibration (RPM+energy)"
    },
    {
        "time": 35.75,
        "pattern": [
            287,
            43,
            359
        ],
        "description": "Base vibration (RPM+energy)"
    },
    {
        "time": 36.0,
        "pattern": [
            298,
            44,
            373
        ],
        "description": "Base vibration (RPM+energy)"
    },
    {
        "time": 36.25,
        "pattern": [
            279,
            41,
            349
        ],
        "description": "Base vibration (RPM+energy)"
    },
    {
        "time": 36.5,
        "pattern": [
            324,
            48,
            406
        ],
        "description": "Base vibration (RPM+energy)"
    },
    {
        "time": 36.75,
        "pattern": [
            272,
            40,
            340
        ],
        "description": "Base vibration (RPM+energy)"
    },
    {
        "time": 37.0,
        "pattern": [
            275,
            41,
            344
        ],
        "description": "Base vibration (RPM+energy)"
    },
    {
        "time": 37.25,
        "pattern": [
            257,
            38,
            322
        ],
        "description": "Base vibration (RPM+energy)"
    },
    {
        "time": 37.5,
        "pattern": [
            288,
            43,
            360
        ],
        "description": "Base vibration (RPM+energy)"
    },
    {
        "time": 37.75,
        "pattern": [
            300,
            45,
            375
        ],
        "description": "Base vibration (RPM+energy)"
    },
    {
        "time": 38.0,
        "pattern": [
            312,
            46,
            391
        ],
        "description": "Base vibration (RPM+energy)"
    },
    {
        "time": 38.25,
        "pattern": [
            336,
            50,
            421
        ],
        "description": "Base vibration (RPM+energy)"
    },
    {
        "time": 38.5,
        "pattern": [
            330,
            49,
            413
        ],
        "description": "Base vibration (RPM+energy)"
    },
    {
        "time": 38.75,
        "pattern": [
            338,
            50,
            423
        ],
        "description": "Base vibration (RPM+energy)"
    },
    {
        "time": 39.0,
        "pattern": [
            341,
            51,
            427
        ],
        "description": "Base vibration (RPM+energy)"
    },
    {
        "time": 39.25,
        "pattern": [
            360,
            54,
            450
        ],
        "description": "Base vibration (RPM+energy)"
    },
    {
        "time": 39.5,
        "pattern": [
            316,
            47,
            395
        ],
        "description": "Base vibration (RPM+energy)"
    },
    {
        "time": 39.75,
        "pattern": [
            331,
            49,
            414
        ],
        "description": "Base vibration (RPM+energy)"
    },
    {
        "time": 40.0,
        "pattern": [
            344,
            51,
            431
        ],
        "description": "Base vibration (RPM+energy)"
    },
    {
        "time": 40.25,
        "pattern": [
            331,
            49,
            414
        ],
        "description": "Base vibration (RPM+energy)"
    },
    {
        "time": 40.5,
        "pattern": [
            335,
            50,
            419
        ],
        "description": "Base vibration (RPM+energy)"
    },
    {
        "time": 40.75,
        "pattern": [
            347,
            52,
            434
        ],
        "description": "Base vibration (RPM+energy)"
    },
    {
        "time": 41.0,
        "pattern": [
            324,
            48,
            405
        ],
        "description": "Base vibration (RPM+energy)"
    },
    {
        "time": 41.25,
        "pattern": [
            342,
            51,
            428
        ],
        "description": "Base vibration (RPM+energy)"
    },
    {
        "time": 41.5,
        "pattern": [
            343,
            51,
            429
        ],
        "description": "Base vibration (RPM+energy)"
    },
    {
        "time": 41.75,
        "pattern": [
            348,
            52,
            435
        ],
        "description": "Base vibration (RPM+energy)"
    },
    {
        "time": 42.0,
        "pattern": [
            343,
            51,
            429
        ],
        "description": "Base vibration (RPM+energy)"
    },
    {
        "time": 42.25,
        "pattern": [
            344,
            51,
            430
        ],
        "description": "Base vibration (RPM+energy)"
    },
    {
        "time": 42.5,
        "pattern": [
            336,
            50,
            420
        ],
        "description": "Base vibration (RPM+energy)"
    },
    {
        "time": 42.75,
        "pattern": [
            328,
            49,
            411
        ],
        "description": "Base vibration (RPM+energy)"
    },
    {
        "time": 43.0,
        "pattern": [
            324,
            48,
            406
        ],
        "description": "Base vibration (RPM+energy)"
    },
    {
        "time": 43.25,
        "pattern": [
            276,
            41,
            346
        ],
        "description": "Base vibration (RPM+energy)"
    },
    {
        "time": 43.5,
        "pattern": [
            272,
            40,
            341
        ],
        "description": "Base vibration (RPM+energy)"
    },
    {
        "time": 43.75,
        "pattern": [
            282,
            42,
            353
        ],
        "description": "Base vibration (RPM+energy)"
    },
    {
        "time": 44.0,
        "pattern": [
            284,
            42,
            355
        ],
        "description": "Base vibration (RPM+energy)"
    },
    {
        "time": 44.25,
        "pattern": [
            292,
            43,
            366
        ],
        "description": "Base vibration (RPM+energy)"
    },
    {
        "time": 44.5,
        "pattern": [
            330,
            49,
            413
        ],
        "description": "Base vibration (RPM+energy)"
    },
    {
        "time": 44.75,
        "pattern": [
            338,
            50,
            423
        ],
        "description": "Base vibration (RPM+energy)"
    },
    {
        "time": 45.0,
        "pattern": [
            332,
            49,
            415
        ],
        "description": "Base vibration (RPM+energy)"
    },
    {
        "time": 45.25,
        "pattern": [
            338,
            50,
            423
        ],
        "description": "Base vibration (RPM+energy)"
    },
    {
        "time": 45.5,
        "pattern": [
            344,
            51,
            431
        ],
        "description": "Base vibration (RPM+energy)"
    },
    {
        "time": 45.75,
        "pattern": [
            353,
            52,
            442
        ],
        "description": "Base vibration (RPM+energy)"
    },
    {
        "time": 46.0,
        "pattern": [
            345,
            51,
            432
        ],
        "description": "Base vibration (RPM+energy)"
    },
    {
        "time": 46.25,
        "pattern": [
            351,
            52,
            439
        ],
        "description": "Base vibration (RPM+energy)"
    },
    {
        "time": 46.5,
        "pattern": [
            338,
            50,
            423
        ],
        "description": "Base vibration (RPM+energy)"
    },
    {
        "time": 46.75,
        "pattern": [
            344,
            51,
            431
        ],
        "description": "Base vibration (RPM+energy)"
    },
    {
        "time": 47.0,
        "pattern": [
            326,
            48,
            408
        ],
        "description": "Base vibration (RPM+energy)"
    },
    {
        "time": 47.5,
        "pattern": [
            322,
            48,
            403
        ],
        "description": "Base vibration (RPM+energy)"
    },
    {
        "time": 47.75,
        "pattern": [
            325,
            48,
            407
        ],
        "description": "Base vibration (RPM+energy)"
    },
    {
        "time": 48.0,
        "pattern": [
            316,
            47,
            396
        ],
        "description": "Base vibration (RPM+energy)"
    },
    {
        "time": 48.25,
        "pattern": [
            296,
            44,
            370
        ],
        "description": "Base vibration (RPM+energy)"
    },
    {
        "time": 48.5,
        "pattern": [
            268,
            40,
            336
        ],
        "description": "Base vibration (RPM+energy)"
    },
    {
        "time": 48.75,
        "pattern": [
            264,
            39,
            331
        ],
        "description": "Base vibration (RPM+energy)"
    },
    {
        "time": 49.0,
        "pattern": [
            276,
            41,
            346
        ],
        "description": "Base vibration (RPM+energy)"
    },
    {
        "time": 49.25,
        "pattern": [
            296,
            44,
            371
        ],
        "description": "Base vibration (RPM+energy)"
    },
    {
        "time": 49.5,
        "pattern": [
            330,
            49,
            413
        ],
        "description": "Base vibration (RPM+energy)"
    },
    {
        "time": 49.75,
        "pattern": [
            356,
            53,
            446
        ],
        "description": "Base vibration (RPM+energy)"
    },
    {
        "time": 50.0,
        "pattern": [
            365,
            54,
            457
        ],
        "description": "Base vibration (RPM+energy)"
    },
    {
        "time": 50.25,
        "pattern": [
            374,
            56,
            468
        ],
        "description": "Base vibration (RPM+energy)"
    },
    {
        "time": 50.5,
        "pattern": [
            359,
            53,
            449
        ],
        "description": "Base vibration (RPM+energy)"
    },
    {
        "time": 50.75,
        "pattern": [
            355,
            53,
            444
        ],
        "description": "Base vibration (RPM+energy)"
    },
    {
        "time": 51.0,
        "pattern": [
            356,
            53,
            446
        ],
        "description": "Base vibration (RPM+energy)"
    },
    {
        "time": 51.5,
        "pattern": [
            351,
            52,
            439
        ],
        "description": "Base vibration (RPM+energy)"
    },
    {
        "time": 51.75,
        "pattern": [
            349,
            52,
            437
        ],
        "description": "Base vibration (RPM+energy)"
    },
    {
        "time": 52.0,
        "pattern": [
            320,
            48,
            400
        ],
        "description": "Base vibration (RPM+energy)"
    },
    {
        "time": 52.25,
        "pattern": [
            346,
            51,
            433
        ],
        "description": "Base vibration (RPM+energy)"
    },
    {
        "time": 52.5,
        "pattern": [
            339,
            50,
            424
        ],
        "description": "Base vibration (RPM+energy)"
    },
    {
        "time": 52.75,
        "pattern": [
            342,
            51,
            428
        ],
        "description": "Base vibration (RPM+energy)"
    },
    {
        "time": 53.0,
        "pattern": [
            348,
            52,
            435
        ],
        "description": "Base vibration (RPM+energy)"
    },
    {
        "time": 53.25,
        "pattern": [
            356,
            53,
            445
        ],
        "description": "Base vibration (RPM+energy)"
    },
    {
        "time": 53.5,
        "pattern": [
            343,
            51,
            429
        ],
        "description": "Base vibration (RPM+energy)"
    },
    {
        "time": 53.75,
        "pattern": [
            340,
            51,
            426
        ],
        "description": "Base vibration (RPM+energy)"
    },
    {
        "time": 54.0,
        "pattern": [
            346,
            51,
            433
        ],
        "description": "Base vibration (RPM+energy)"
    },
    {
        "time": 54.25,
        "pattern": [
            324,
            48,
            405
        ],
        "description": "Base vibration (RPM+energy)"
    },
    {
        "time": 54.5,
        "pattern": [
            341,
            51,
            427
        ],
        "description": "Base vibration (RPM+energy)"
    },
    {
        "time": 54.75,
        "pattern": [
            345,
            51,
            432
        ],
        "description": "Base vibration (RPM+energy)"
    },
    {
        "time": 55.0,
        "pattern": [
            340,
            51,
            425
        ],
        "description": "Base vibration (RPM+energy)"
    },
    {
        "time": 55.25,
        "pattern": [
            336,
            50,
            420
        ],
        "description": "Base vibration (RPM+energy)"
    },
    {
        "time": 55.5,
        "pattern": [
            341,
            51,
            427
        ],
        "description": "Base vibration (RPM+energy)"
    },
    {
        "time": 55.75,
        "pattern": [
            347,
            52,
            434
        ],
        "description": "Base vibration (RPM+energy)"
    },
    {
        "time": 56.0,
        "pattern": [
            342,
            51,
            428
        ],
        "description": "Base vibration (RPM+energy)"
    },
    {
        "time": 56.25,
        "pattern": [
            344,
            51,
            431
        ],
        "description": "Base vibration (RPM+energy)"
    },
    {
        "time": 56.5,
        "pattern": [
            346,
            51,
            433
        ],
        "description": "Base vibration (RPM+energy)"
    },
    {
        "time": 56.75,
        "pattern": [
            343,
            51,
            429
        ],
        "description": "Base vibration (RPM+energy)"
    },
    {
        "time": 57.0,
        "pattern": [
            348,
            52,
            436
        ],
        "description": "Base vibration (RPM+energy)"
    },
    {
        "time": 57.25,
        "pattern": [
            333,
            49,
            417
        ],
        "description": "Base vibration (RPM+energy)"
    },
    {
        "time": 57.5,
        "pattern": [
            344,
            51,
            431
        ],
        "description": "Base vibration (RPM+energy)"
    },
    {
        "time": 57.75,
        "pattern": [
            340,
            51,
            425
        ],
        "description": "Base vibration (RPM+energy)"
    },
    {
        "time": 58.0,
        "pattern": [
            338,
            50,
            423
        ],
        "description": "Base vibration (RPM+energy)"
    },
    {
        "time": 58.25,
        "pattern": [
            346,
            51,
            433
        ],
        "description": "Base vibration (RPM+energy)"
    },
    {
        "time": 58.5,
        "pattern": [
            340,
            51,
            425
        ],
        "description": "Base vibration (RPM+energy)"
    },
    {
        "time": 58.75,
        "pattern": [
            335,
            50,
            419
        ],
        "description": "Base vibration (RPM+energy)"
    },
    {
        "time": 59.0,
        "pattern": [
            344,
            51,
            431
        ],
        "description": "Base vibration (RPM+energy)"
    },
    {
        "time": 59.25,
        "pattern": [
            333,
            49,
            417
        ],
        "description": "Base vibration (RPM+energy)"
    },
    {
        "time": 59.5,
        "pattern": [
            328,
            49,
            410
        ],
        "description": "Base vibration (RPM+energy)"
    },
    {
        "time": 59.75,
        "pattern": [
            336,
            50,
            421
        ],
        "description": "Base vibration (RPM+energy)"
    },
    {
        "time": 60.0,
        "pattern": [
            328,
            49,
            410
        ],
        "description": "Base vibration (RPM+energy)"
    },
    {
        "time": 60.25,
        "pattern": [
            333,
            49,
            417
        ],
        "description": "Base vibration (RPM+energy)"
    },
    {
        "time": 60.5,
        "pattern": [
            336,
            50,
            420
        ],
        "description": "Base vibration (RPM+energy)"
    },
    {
        "time": 60.75,
        "pattern": [
            332,
            49,
            415
        ],
        "description": "Base vibration (RPM+energy)"
    },
    {
        "time": 61.0,
        "pattern": [
            331,
            49,
            414
        ],
        "description": "Base vibration (RPM+energy)"
    },
    {
        "time": 61.25,
        "pattern": [
            311,
            46,
            389
        ],
        "description": "Base vibration (RPM+energy)"
    },
    {
        "time": 61.5,
        "pattern": [
            302,
            45,
            378
        ],
        "description": "Base vibration (RPM+energy)"
    },
    {
        "time": 61.75,
        "pattern": [
            278,
            41,
            348
        ],
        "description": "Base vibration (RPM+energy)"
    },
    {
        "time": 62.0,
        "pattern": [
            261,
            39,
            327
        ],
        "description": "Base vibration (RPM+energy)"
    },
    {
        "time": 62.25,
        "pattern": [
            268,
            40,
            335
        ],
        "description": "Base vibration (RPM+energy)"
    },
    {
        "time": 62.5,
        "pattern": [
            288,
            43,
            361
        ],
        "description": "Base vibration (RPM+energy)"
    },
    {
        "time": 62.75,
        "pattern": [
            302,
            45,
            378
        ],
        "description": "Base vibration (RPM+energy)"
    },
    {
        "time": 63.0,
        "pattern": [
            340,
            51,
            425
        ],
        "description": "Base vibration (RPM+energy)"
    },
    {
        "time": 63.25,
        "pattern": [
            355,
            53,
            444
        ],
        "description": "Base vibration (RPM+energy)"
    },
    {
        "time": 63.5,
        "pattern": [
            349,
            52,
            437
        ],
        "description": "Base vibration (RPM+energy)"
    },
    {
        "time": 63.75,
        "pattern": [
            344,
            51,
            431
        ],
        "description": "Base vibration (RPM+energy)"
    },
    {
        "time": 64.0,
        "pattern": [
            331,
            49,
            414
        ],
        "description": "Base vibration (RPM+energy)"
    },
    {
        "time": 64.25,
        "pattern": [
            341,
            51,
            427
        ],
        "description": "Base vibration (RPM+energy)"
    },
    {
        "time": 64.5,
        "pattern": [
            333,
            49,
            417
        ],
        "description": "Base vibration (RPM+energy)"
    },
    {
        "time": 64.75,
        "pattern": [
            339,
            50,
            424
        ],
        "description": "Base vibration (RPM+energy)"
    },
    {
        "time": 65.0,
        "pattern": [
            348,
            52,
            436
        ],
        "description": "Base vibration (RPM+energy)"
    },
    {
        "time": 65.25,
        "pattern": [
            352,
            52,
            440
        ],
        "description": "Base vibration (RPM+energy)"
    },
    {
        "time": 65.5,
        "pattern": [
            349,
            52,
            437
        ],
        "description": "Base vibration (RPM+energy)"
    },
    {
        "time": 65.75,
        "pattern": [
            348,
            52,
            435
        ],
        "description": "Base vibration (RPM+energy)"
    },
    {
        "time": 66.0,
        "pattern": [
            325,
            48,
            407
        ],
        "description": "Base vibration (RPM+energy)"
    },
    {
        "time": 66.25,
        "pattern": [
            340,
            51,
            425
        ],
        "description": "Base vibration (RPM+energy)"
    },
    {
        "time": 66.5,
        "pattern": [
            339,
            50,
            424
        ],
        "description": "Base vibration (RPM+energy)"
    },
    {
        "time": 66.75,
        "pattern": [
            372,
            55,
            466
        ],
        "description": "Base vibration (RPM+energy)"
    },
    {
        "time": 67.0,
        "pattern": [
            359,
            53,
            449
        ],
        "description": "Base vibration (RPM+energy)"
    },
    {
        "time": 67.25,
        "pattern": [
            341,
            51,
            427
        ],
        "description": "Base vibration (RPM+energy)"
    },
    {
        "time": 67.5,
        "pattern": [
            345,
            51,
            432
        ],
        "description": "Base vibration (RPM+energy)"
    },
    {
        "time": 67.75,
        "pattern": [
            342,
            51,
            428
        ],
        "description": "Base vibration (RPM+energy)"
    },
    {
        "time": 68.0,
        "pattern": [
            344,
            51,
            430
        ],
        "description": "Base vibration (RPM+energy)"
    },
    {
        "time": 68.25,
        "pattern": [
            342,
            51,
            428
        ],
        "description": "Base vibration (RPM+energy)"
    },
    {
        "time": 68.5,
        "pattern": [
            337,
            50,
            422
        ],
        "description": "Base vibration (RPM+energy)"
    },
    {
        "time": 68.75,
        "pattern": [
            328,
            49,
            410
        ],
        "description": "Base vibration (RPM+energy)"
    },
    {
        "time": 69.0,
        "pattern": [
            350,
            52,
            438
        ],
        "description": "Base vibration (RPM+energy)"
    },
    {
        "time": 69.25,
        "pattern": [
            334,
            50,
            418
        ],
        "description": "Base vibration (RPM+energy)"
    },
    {
        "time": 69.5,
        "pattern": [
            332,
            49,
            415
        ],
        "description": "Base vibration (RPM+energy)"
    },
    {
        "time": 69.75,
        "pattern": [
            344,
            51,
            430
        ],
        "description": "Base vibration (RPM+energy)"
    },
    {
        "time": 70.0,
        "pattern": [
            336,
            50,
            421
        ],
        "description": "Base vibration (RPM+energy)"
    },
    {
        "time": 70.25,
        "pattern": [
            344,
            51,
            431
        ],
        "description": "Base vibration (RPM+energy)"
    },
    {
        "time": 70.5,
        "pattern": [
            340,
            51,
            425
        ],
        "description": "Base vibration (RPM+energy)"
    },
    {
        "time": 70.75,
        "pattern": [
            345,
            51,
            432
        ],
        "description": "Base vibration (RPM+energy)"
    },
    {
        "time": 71.0,
        "pattern": [
            338,
            50,
            423
        ],
        "description": "Base vibration (RPM+energy)"
    },
    {
        "time": 71.25,
        "pattern": [
            334,
            50,
            418
        ],
        "description": "Base vibration (RPM+energy)"
    },
    {
        "time": 71.5,
        "pattern": [
            340,
            51,
            426
        ],
        "description": "Base vibration (RPM+energy)"
    },
    {
        "time": 71.75,
        "pattern": [
            348,
            52,
            435
        ],
        "description": "Base vibration (RPM+energy)"
    },
    {
        "time": 72.0,
        "pattern": [
            338,
            50,
            423
        ],
        "description": "Base vibration (RPM+energy)"
    },
    {
        "time": 72.25,
        "pattern": [
            340,
            51,
            425
        ],
        "description": "Base vibration (RPM+energy)"
    },
    {
        "time": 72.5,
        "pattern": [
            341,
            51,
            427
        ],
        "description": "Base vibration (RPM+energy)"
    },
    {
        "time": 72.75,
        "pattern": [
            339,
            50,
            424
        ],
        "description": "Base vibration (RPM+energy)"
    },
    {
        "time": 73.0,
        "pattern": [
            332,
            49,
            416
        ],
        "description": "Base vibration (RPM+energy)"
    },
    {
        "time": 73.25,
        "pattern": [
            336,
            50,
            421
        ],
        "description": "Base vibration (RPM+energy)"
    },
    {
        "time": 73.5,
        "pattern": [
            335,
            50,
            419
        ],
        "description": "Base vibration (RPM+energy)"
    },
    {
        "time": 73.75,
        "pattern": [
            338,
            50,
            423
        ],
        "description": "Base vibration (RPM+energy)"
    },
    {
        "time": 74.0,
        "pattern": [
            330,
            49,
            413
        ],
        "description": "Base vibration (RPM+energy)"
    },
    {
        "time": 74.25,
        "pattern": [
            328,
            49,
            411
        ],
        "description": "Base vibration (RPM+energy)"
    },
    {
        "time": 74.5,
        "pattern": [
            321,
            48,
            402
        ],
        "description": "Base vibration (RPM+energy)"
    },
    {
        "time": 74.75,
        "pattern": [
            333,
            49,
            417
        ],
        "description": "Base vibration (RPM+energy)"
    },
    {
        "time": 75.0,
        "pattern": [
            318,
            47,
            398
        ],
        "description": "Base vibration (RPM+energy)"
    },
    {
        "time": 75.25,
        "pattern": [
            320,
            48,
            400
        ],
        "description": "Base vibration (RPM+energy)"
    },
    {
        "time": 75.5,
        "pattern": [
            326,
            48,
            408
        ],
        "description": "Base vibration (RPM+energy)"
    },
    {
        "time": 75.75,
        "pattern": [
            317,
            47,
            397
        ],
        "description": "Base vibration (RPM+energy)"
    },
    {
        "time": 76.0,
        "pattern": [
            330,
            49,
            413
        ],
        "description": "Base vibration (RPM+energy)"
    },
    {
        "time": 76.25,
        "pattern": [
            318,
            47,
            398
        ],
        "description": "Base vibration (RPM+energy)"
    },
    {
        "time": 76.5,
        "pattern": [
            310,
            46,
            388
        ],
        "description": "Base vibration (RPM+energy)"
    },
    {
        "time": 76.75,
        "pattern": [
            278,
            41,
            348
        ],
        "description": "Base vibration (RPM+energy)"
    },
    {
        "time": 77.0,
        "pattern": [
            264,
            39,
            330
        ],
        "description": "Base vibration (RPM+energy)"
    },
    {
        "time": 77.25,
        "pattern": [
            281,
            42,
            352
        ],
        "description": "Base vibration (RPM+energy)"
    },
    {
        "time": 77.5,
        "pattern": [
            270,
            40,
            338
        ],
        "description": "Base vibration (RPM+energy)"
    },
    {
        "time": 77.75,
        "pattern": [
            279,
            41,
            349
        ],
        "description": "Base vibration (RPM+energy)"
    },
    {
        "time": 78.0,
        "pattern": [
            290,
            43,
            363
        ],
        "description": "Base vibration (RPM+energy)"
    },
    {
        "time": 78.25,
        "pattern": [
            332,
            49,
            415
        ],
        "description": "Base vibration (RPM+energy)"
    },
    {
        "time": 78.5,
        "pattern": [
            348,
            52,
            435
        ],
        "description": "Base vibration (RPM+energy)"
    },
    {
        "time": 78.75,
        "pattern": [
            348,
            52,
            436
        ],
        "description": "Base vibration (RPM+energy)"
    },
    {
        "time": 79.0,
        "pattern": [
            355,
            53,
            444
        ],
        "description": "Base vibration (RPM+energy)"
    },
    {
        "time": 79.5,
        "pattern": [
            356,
            53,
            446
        ],
        "description": "Base vibration (RPM+energy)"
    },
    {
        "time": 79.75,
        "pattern": [
            350,
            52,
            438
        ],
        "description": "Base vibration (RPM+energy)"
    },
    {
        "time": 80.0,
        "pattern": [
            348,
            52,
            435
        ],
        "description": "Base vibration (RPM+energy)"
    },
    {
        "time": 80.25,
        "pattern": [
            348,
            52,
            436
        ],
        "description": "Base vibration (RPM+energy)"
    },
    {
        "time": 80.5,
        "pattern": [
            319,
            47,
            399
        ],
        "description": "Base vibration (RPM+energy)"
    },
    {
        "time": 80.75,
        "pattern": [
            336,
            50,
            420
        ],
        "description": "Base vibration (RPM+energy)"
    },
    {
        "time": 81.0,
        "pattern": [
            341,
            51,
            427
        ],
        "description": "Base vibration (RPM+energy)"
    },
    {
        "time": 81.25,
        "pattern": [
            336,
            50,
            420
        ],
        "description": "Base vibration (RPM+energy)"
    },
    {
        "time": 81.5,
        "pattern": [
            336,
            50,
            421
        ],
        "description": "Base vibration (RPM+energy)"
    },
    {
        "time": 81.75,
        "pattern": [
            340,
            51,
            425
        ],
        "description": "Base vibration (RPM+energy)"
    },
    {
        "time": 82.0,
        "pattern": [
            350,
            52,
            438
        ],
        "description": "Base vibration (RPM+energy)"
    },
    {
        "time": 82.25,
        "pattern": [
            337,
            50,
            422
        ],
        "description": "Base vibration (RPM+energy)"
    },
    {
        "time": 82.5,
        "pattern": [
            348,
            52,
            435
        ],
        "description": "Base vibration (RPM+energy)"
    },
    {
        "time": 82.75,
        "pattern": [
            350,
            52,
            438
        ],
        "description": "Base vibration (RPM+energy)"
    },
    {
        "time": 83.0,
        "pattern": [
            347,
            52,
            434
        ],
        "description": "Base vibration (RPM+energy)"
    },
    {
        "time": 83.25,
        "pattern": [
            339,
            50,
            424
        ],
        "description": "Base vibration (RPM+energy)"
    },
    {
        "time": 83.5,
        "pattern": [
            337,
            50,
            422
        ],
        "description": "Base vibration (RPM+energy)"
    },
    {
        "time": 84.0,
        "pattern": [
            340,
            51,
            425
        ],
        "description": "Base vibration (RPM+energy)"
    },
    {
        "time": 84.25,
        "pattern": [
            339,
            50,
            424
        ],
        "description": "Base vibration (RPM+energy)"
    },
    {
        "time": 84.5,
        "pattern": [
            335,
            50,
            419
        ],
        "description": "Base vibration (RPM+energy)"
    },
    {
        "time": 84.75,
        "pattern": [
            336,
            50,
            421
        ],
        "description": "Base vibration (RPM+energy)"
    },
    {
        "time": 85.0,
        "pattern": [
            336,
            50,
            420
        ],
        "description": "Base vibration (RPM+energy)"
    },
    {
        "time": 85.25,
        "pattern": [
            339,
            50,
            424
        ],
        "description": "Base vibration (RPM+energy)"
    },
    {
        "time": 85.5,
        "pattern": [
            340,
            51,
            426
        ],
        "description": "Base vibration (RPM+energy)"
    },
    {
        "time": 85.75,
        "pattern": [
            339,
            50,
            424
        ],
        "description": "Base vibration (RPM+energy)"
    },
    {
        "time": 86.0,
        "pattern": [
            340,
            51,
            426
        ],
        "description": "Base vibration (RPM+energy)"
    },
    {
        "time": 86.25,
        "pattern": [
            339,
            50,
            424
        ],
        "description": "Base vibration (RPM+energy)"
    },
    {
        "time": 86.5,
        "pattern": [
            340,
            51,
            426
        ],
        "description": "Base vibration (RPM+energy)"
    },
    {
        "time": 86.75,
        "pattern": [
            325,
            48,
            407
        ],
        "description": "Base vibration (RPM+energy)"
    },
    {
        "time": 87.0,
        "pattern": [
            328,
            49,
            411
        ],
        "description": "Base vibration (RPM+energy)"
    },
    {
        "time": 87.25,
        "pattern": [
            323,
            48,
            404
        ],
        "description": "Base vibration (RPM+energy)"
    },
    {
        "time": 87.5,
        "pattern": [
            334,
            50,
            418
        ],
        "description": "Base vibration (RPM+energy)"
    },
    {
        "time": 87.75,
        "pattern": [
            333,
            49,
            417
        ],
        "description": "Base vibration (RPM+energy)"
    },
    {
        "time": 88.0,
        "pattern": [
            324,
            48,
            406
        ],
        "description": "Base vibration (RPM+energy)"
    },
    {
        "time": 88.25,
        "pattern": [
            324,
            48,
            405
        ],
        "description": "Base vibration (RPM+energy)"
    },
    {
        "time": 88.5,
        "pattern": [
            325,
            48,
            407
        ],
        "description": "Base vibration (RPM+energy)"
    },
    {
        "time": 88.75,
        "pattern": [
            319,
            47,
            399
        ],
        "description": "Base vibration (RPM+energy)"
    },
    {
        "time": 89.0,
        "pattern": [
            331,
            49,
            414
        ],
        "description": "Base vibration (RPM+energy)"
    },
    {
        "time": 89.25,
        "pattern": [
            323,
            48,
            404
        ],
        "description": "Base vibration (RPM+energy)"
    },
    {
        "time": 89.5,
        "pattern": [
            322,
            48,
            403
        ],
        "description": "Base vibration (RPM+energy)"
    },
    {
        "time": 89.75,
        "pattern": [
            329,
            49,
            412
        ],
        "description": "Base vibration (RPM+energy)"
    },
    {
        "time": 90.0,
        "pattern": [
            305,
            45,
            382
        ],
        "description": "Base vibration (RPM+energy)"
    },
    {
        "time": 90.25,
        "pattern": [
            269,
            40,
            337
        ],
        "description": "Base vibration (RPM+energy)"
    },
    {
        "time": 90.5,
        "pattern": [
            201,
            230,
            34,
            288
        ],
        "description": "Base vibration (RPM+energy) + Braking"
    },
    {
        "time": 90.75,
        "pattern": [
            40
        ],
        "description": "Base vibration (RPM+energy)"
    }
];

            this.init();
        }

            init() {
                this.checkVibrationSupport();
                this.setupEventListeners();
                this.updateIntensityDisplay();
                this.populateTimeline();
            }

            populateTimeline() {
                // Clear existing timeline children except the title
                while (this.timelineContainer.children.length > 1) {
                    this.timelineContainer.removeChild(this.timelineContainer.lastChild);
                }

                this.hapticEvents.forEach(event => {
                    const eventDiv = document.createElement('div');
                    eventDiv.className = 'haptic-event';
                    const minutes = Math.floor(event.time / 60);
                    const seconds = (event.time % 60).toFixed(1);
                    eventDiv.textContent = `${minutes}:${seconds.padStart(4, '0')} - ${event.description}`;
                    this.timelineContainer.appendChild(eventDiv);
                });
                this.hapticCountDisplay.textContent = `${this.hapticEvents.length} F1 events loaded`;
            }

            startBackgroundHaptics(pattern) {
                if (this.backgroundHapticInterval) {
                    clearInterval(this.backgroundHapticInterval);
                }

                const loopVibration = () => {
                    if (this.video.paused) {
                        this.stopBackgroundHaptics();
                        return;
                    }
                    const scaledPattern = pattern.map(d => Math.round(d * this.intensity));
                    this.vibrate(scaledPattern);
                };
                
                const intervalDuration = pattern.reduce((a, b) => a + b, 0);
                if (intervalDuration > 0) {
                   this.backgroundHapticInterval = setInterval(loopVibration, intervalDuration);
                }
            }

            stopBackgroundHaptics() {
                clearInterval(this.backgroundHapticInterval);
                this.backgroundHapticInterval = null;
                if ('vibrate' in navigator) {
                    navigator.vibrate(0);
                }
            }
            
            checkVibrationSupport() {
                const vibrationSupport = document.getElementById('vibrationSupport');
                if ('vibrate' in navigator) {
                    vibrationSupport.textContent = '‚úÖ Supported';
                    vibrationSupport.style.color = '#4ecdc4';
                } else {
                    vibrationSupport.textContent = '‚ùå Not Supported';
                    vibrationSupport.style.color = '#ff6b6b';
                }
            }
            
            setupEventListeners() {
                this.playBtn.addEventListener('click', () => {
                    if (this.video.paused) {
                        this.hapticEnabled = true;
                        this.video.play();
                        this.playBtn.textContent = '‚è∏Ô∏è Pause';
                        this.startBackgroundHaptics(this.rpmPatterns.low);
                    } else {
                        this.video.pause();
                    }
                });
                
                this.testBtn.addEventListener('click', () => {
                    this.vibrate([200, 100, 200, 100, 400]);
                });
                
                this.video.addEventListener('timeupdate', () => {
                    this.updateTime();
                    if (this.hapticEnabled) {
                        this.checkHapticEvents();
                    }
                });
                
                this.video.addEventListener('ended', () => {
                    this.hapticEnabled = false;
                    this.playBtn.textContent = '‚ñ∂Ô∏è Play with Haptics';
                    this.stopBackgroundHaptics();
                });
                
                this.video.addEventListener('pause', () => {
                    this.hapticEnabled = false;
                    this.playBtn.textContent = '‚ñ∂Ô∏è Play with Haptics';
                    this.stopBackgroundHaptics();
                });
                
                this.intensitySlider.addEventListener('input', (e) => {
                    this.intensity = parseInt(e.target.value) / 100;
                    this.updateIntensityDisplay();
                });
            }
            
            updateIntensityDisplay() {
                const percentage = Math.round(this.intensity * 100);
                this.intensityValue.textContent = `${percentage}%`;
            }
            
            updateTime() {
                const currentTime = this.video.currentTime;
                const minutes = Math.floor(currentTime / 60);
                const seconds = Math.floor(currentTime % 60);
                this.currentTimeDisplay.textContent = `${minutes}:${seconds.toString().padStart(2, '0')}`;
            }
            
            checkHapticEvents() {
                const currentTime = this.video.currentTime;
                
                this.hapticEvents.forEach(event => {
                    if (currentTime >= event.time && this.lastHapticTime < event.time) {
                        this.triggerHaptic(event);
                        this.lastHapticTime = event.time;
                    }
                });
            }
            
            triggerHaptic(event) {
                console.log(`Triggering haptic: ${event.description} at ${event.time}s`);
                
                this.stopBackgroundHaptics();

                const scaledPattern = event.pattern.map(duration => 
                    Math.round(duration * this.intensity)
                );
                
                this.vibrate(scaledPattern);
                this.showHapticFeedback(event.description);
                
                const patternDuration = scaledPattern.reduce((a, b) => a + b, 0);

                setTimeout(() => {
                    if (this.video.paused) return; // Don't restart if video has been paused

                    let nextPattern = this.rpmPatterns.low; // Default
                    if (event.description.toLowerCase().includes("acceleration") || event.description.toLowerCase().includes("straight")) {
                        nextPattern = this.rpmPatterns.high;
                    } else if (event.description.toLowerCase().includes("corner") || event.description.toLowerCase().includes("g-force")) {
                        nextPattern = this.rpmPatterns.cornering;
                    }
                    this.startBackgroundHaptics(nextPattern);
                }, patternDuration);
            }
            
            vibrate(pattern) {
                if ('vibrate' in navigator && this.intensity > 0) {
                    navigator.vibrate(pattern);
                }
            }
            
            showHapticFeedback(description) {
                const feedback = document.createElement('div');
                feedback.style.cssText = `
                    position: fixed;
                    top: 20px;
                    right: 20px;
                    background: rgba(78, 205, 196, 0.9);
                    color: white;
                    padding: 10px 15px;
                    border-radius: 25px;
                    font-size: 14px;
                    font-weight: 600;
                    z-index: 1000;
                    animation: slideIn 0.3s ease;
                    text-align: center;
                `;
                feedback.textContent = `‚ö° ${description}`;
                
                if (!document.querySelector('#haptic-animation-styles')) {
                    const style = document.createElement('style');
                    style.id = 'haptic-animation-styles';
                    style.textContent = `
                        @keyframes slideIn { from { transform: translateX(120%); opacity: 0; } to { transform: translateX(0); opacity: 1; } }
                        @keyframes slideOut { from { transform: translateX(0); opacity: 1; } to { transform: translateX(120%); opacity: 0; } }
                    `;
                    document.head.appendChild(style);
                }
                
                document.body.appendChild(feedback);
                
                setTimeout(() => {
                    feedback.style.animation = 'slideOut 0.3s ease forwards';
                    feedback.addEventListener('animationend', () => feedback.remove());
                }, 2000);
            }
        }
        
        document.addEventListener('DOMContentLoaded', () => {
            new HapticVideoPlayer();
        });
        
        document.addEventListener('click', (e) => {
            if (e.target.classList.contains('btn') && 'vibrate' in navigator) {
                navigator.vibrate(50);
            }
        });
    </script>
</body>
</html>